<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Whack-a-Mole</title>
      <link rel="stylesheet" href="/css/mystyle.css">
  </head>

  <body>
    <script src="/js/jquery.js"></script>

    <h2>Whack-a-Mole</h2>
    <div id="instructions">Click the image to gain points</div>
    <div id="points"></div> <div id="clock"></div>
    <button id="startButton" name="startButton">Start</button>

    <div id="container">
      <div id="row1box1"><div id="insidebox"></div></div> <div id="row1box2"><div id="insidebox"></div></div> <div id="row1box3"><div id="insidebox"></div></div>
      <div id="row2box1"><div id="insidebox"></div></div> <div id="row2box2"><div id="insidebox"></div></div> <div id="row2box3"><div id="insidebox"></div></div>
      <div id="row3box1"><div id="insidebox"></div></div> <div id="row3box2"><div id="insidebox"></div></div> <div id="row3box3"><div id="insidebox"></div></div>
    </div>

    <script>
      $(document).ready(function() {
        var score = 0;
        var myInterval = "";
        var highScore = 0;
        var number = 0;
        var speedUp = 0;
        var constant = 250;
        function displayMole() {
          var random = Math.floor((Math.random()*9)+1);
          switch (random) {
            case 1:
              $('#row1box1').children().fadeIn();
              break;
            case 2:
              $('#row1box2').children().fadeIn();
              break;
            case 3:
              $('#row1box3').children().fadeIn();
              break;
            case 4:
              $('#row2box1').children().fadeIn();
              break;
            case 5:
              $('#row2box2').children().fadeIn();
              break;
            case 6:
              $('#row2box3').children().fadeIn();
              break;
            case 7:
              $('#row3box1').children().fadeIn();
              break;
            case 8:
              $('#row3box2').children().fadeIn();
              break;
            case 9:
              $('#row3box3').children().fadeIn();
              break;
            default:
              alert('opps, there was an error getting a mole');
          }
          return random;
        }

        function hideMole(number) {
          switch (number) {
            case 1:
              $('#row1box1').children().fadeOut();
              break;
            case 2:
              $('#row1box2').children().fadeOut();
              break;
            case 3:
              $('#row1box3').children().fadeOut();
              break;
            case 4:
              $('#row2box1').children().fadeOut();
              break;
            case 5:
              $('#row2box2').children().fadeOut();
              break;
            case 6:
              $('#row2box3').children().fadeOut();
              break;
            case 7:
              $('#row3box1').children().fadeOut();
              break;
            case 8:
              $('#row3box2').children().fadeOut();
              break;
            case 9:
              $('#row3box3').children().fadeOut();
              break;
            default:
              $('#row1box1').children().fadeOut();
              $('#row1box2').children().fadeOut();
              $('#row1box3').children().fadeOut();
              $('#row2box1').children().fadeOut();
              $('#row2box2').children().fadeOut();
              $('#row2box3').children().fadeOut();
              $('#row3box1').children().fadeOut();
              $('#row3box2').children().fadeOut();
              $('#row3box3').children().fadeOut();
          }

        }


        //start Button click event
        $('#startButton').click(function(event) {
          endGame();
          score = 0;
          $('#points').html("Score: " + score + " - High Score: " + highScore);

          var myVar = setInterval(function(){ myTimer() }, 1000);
          var timer = '00:';
          var num = 00;

          function myTimer() {
              $("#clock").html(timer + num);
              num += 1;
              if (num == 31) {
                endGame();
              }
          }

          function endGame() {
            clearInterval(myVar);
            clearInterval(myInterval);
            hideMole(0);
            if (score > highScore) {
              highScore = score;
            }

          }

          playGame();

        })

        function playGame() {
          myInterval = setInterval(function() {
            number = displayMole();
            console.log(speedUp + " : " + myInterval);
            setTimeout(function() {
              hideMole(number);
            }, 2900-speedUp);
          }, 3000-speedUp);
        }

        //click Events
        $('#row1box1').click(function(event) {
          $(this).children().fadeOut();
          if (number == 1) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row1box2').click(function(event) {
          $(this).children().fadeOut();
          if (number == 2) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row1box3').click(function(event) {
          $(this).children().fadeOut();
          if (number == 3) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row2box1').click(function(event) {
          $(this).children().fadeOut();
          if (number == 4) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row2box2').click(function(event) {
          $(this).children().fadeOut();
          if (number == 5) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row2box3').click(function(event) {
          $(this).children().fadeOut();
          if (number == 6) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row3box1').click(function(event) {
          $(this).children().fadeOut();
          if (number == 7) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row3box2').click(function(event) {
          $(this).children().fadeOut();
          if (number == 8) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });
        $('#row3box3').click(function(event) {
          $(this).children().fadeOut();
          if (number == 9) {
            score++;
            speedUp = speedUp + constant;
            clearInterval(myInterval);
            playGame();
          }
          $('#points').html("Score: " + score + " - High Score: " + highScore);
        });

      });
    </script>
</body>
</html>
